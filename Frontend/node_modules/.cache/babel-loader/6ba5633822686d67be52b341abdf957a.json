{"ast":null,"code":"var _jsxFileName = \"/home/ayush/Downloads/sticky-note/Frontend/src/App.js\";\nimport React, { Component, Fragment } from 'react';\nimport { Switch, Route, withRouter } from 'react-router-dom';\nimport 'moment-timezone';\nimport Navbar from './components/Navbar';\nimport Home from './components/Home';\nimport EditNote from './components/EditNote';\nimport NewNote from './components/NewNote';\nimport AuthForm from './components/AuthForm';\nimport NotFound from './components/NotFound';\nimport { getCurrentUser, getJwt, setTokenHeader } from './services/authService';\nimport './index.css';\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: null\n    };\n\n    this.setUser = () => {\n      const user = getCurrentUser(getJwt());\n      this.setState({\n        user\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.setUser();\n    const user = getCurrentUser(getJwt());\n\n    if (user) {\n      setTokenHeader(getJwt());\n    } else {\n      this.props.history.push('/login');\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      user: getCurrentUser(getJwt()),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      exact: true,\n      component: Home,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/editNote\",\n      component: EditNote,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/newNote\",\n      component: NewNote,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/login\",\n      render: props => /*#__PURE__*/React.createElement(AuthForm, Object.assign({}, props, {\n        header: \"Log-in to your account\",\n        type: \"Login\",\n        setUser: this.setUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 29\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/register\",\n      render: props => /*#__PURE__*/React.createElement(AuthForm, Object.assign({}, props, {\n        header: \"Register account\",\n        type: \"Register\",\n        setUser: this.setUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 29\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"*\",\n      component: NotFound,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    })));\n  }\n\n}\n\nexport default withRouter(App);","map":{"version":3,"sources":["/home/ayush/Downloads/sticky-note/Frontend/src/App.js"],"names":["React","Component","Fragment","Switch","Route","withRouter","Navbar","Home","EditNote","NewNote","AuthForm","NotFound","getCurrentUser","getJwt","setTokenHeader","App","state","user","setUser","setState","componentDidMount","props","history","push","render"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport { Switch, Route, withRouter } from 'react-router-dom';\nimport 'moment-timezone';\n\nimport Navbar from './components/Navbar';\nimport Home from './components/Home';\nimport EditNote from './components/EditNote';\nimport NewNote from './components/NewNote';\nimport AuthForm from './components/AuthForm';\nimport NotFound from './components/NotFound';\nimport { getCurrentUser, getJwt, setTokenHeader } from './services/authService';\nimport './index.css';\n\nclass App extends Component {\n    state = {\n        user: null\n    };\n\n    setUser = () => {\n        const user = getCurrentUser(getJwt());\n        this.setState({ user });\n    };\n\n    componentDidMount() {\n        this.setUser();\n        const user = getCurrentUser(getJwt());\n        if (user) {\n            setTokenHeader(getJwt());\n        } else {\n            this.props.history.push('/login');\n        }\n    }\n    render() {\n        return (\n            <Fragment>\n                <Navbar user={getCurrentUser(getJwt())} />\n                <Switch>\n                    <Route path=\"/\" exact component={Home} />\n                    <Route path=\"/editNote\" component={EditNote} />\n                    <Route path=\"/newNote\" component={NewNote} />\n                    <Route\n                        path=\"/login\"\n                        render={props => (\n                            <AuthForm\n                                {...props}\n                                header=\"Log-in to your account\"\n                                type=\"Login\"\n                                setUser={this.setUser}\n                            />\n                        )}\n                    />\n                    <Route\n                        path=\"/register\"\n                        render={props => (\n                            <AuthForm\n                                {...props}\n                                header=\"Register account\"\n                                type=\"Register\"\n                                setUser={this.setUser}\n                            />\n                        )}\n                    />\n                    <Route path=\"*\" component={NotFound} />\n                </Switch>\n            </Fragment>\n        );\n    }\n}\n\nexport default withRouter(App);\n"]},"metadata":{},"sourceType":"module"}